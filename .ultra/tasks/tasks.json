{
  "id": "P1-005",
  "title": "USDPVault 多抵押品支持短期修复",
  "description": "USDPVault 当前使用第一个抵押品进行估值，多抵押品时计算不准确。短期方案：多抵押品时 revert，长期方案：加权健康因子。\n\n**问题根源**:\n- USDPVault.sol:235,321 使用 collaterals[0] 计算总价值\n- 多抵押品时估值错误\n\n**短期方案（P1）**:\n1. getTotalCollateralValue() 检查 collaterals.length\n2. 如果 >1，revert(\"Multi-collateral not supported\")\n3. 添加文档说明当前仅支持单抵押品\n\n**长期方案（P2，单独任务）**:\n1. 实现加权健康因子计算\n2. 每个抵押品单独估值并求和\n\n**验收标准**:\n- ✅ 单抵押品正常工作\n- ✅ 多抵押品操作 revert\n- ✅ 错误信息清晰",
  "complexity": 2,
  "priority": "P1",
  "dependencies": [],
  "estimated_days": 0.25,
  "status": "in_progress",
  "tags": [
    "functionality",
    "vault",
    "multi-collateral",
    "phase2"
  ],
  "relatedFiles": [
    "paimon-rwa-contracts/src/core/USDPVault.sol"
  ],
  "testRequirements": [
    "test_Vault_SingleCollateral_Works()",
    "test_Vault_MultiCollateral_Reverts()",
    "test_Vault_ErrorMessage_Clear()"
  ]
}