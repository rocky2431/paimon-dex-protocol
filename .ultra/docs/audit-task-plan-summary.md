# Paimon.dex å®¡è®¡ä¿®å¤ä»»åŠ¡è®¡åˆ’æ€»ç»“

**ç”Ÿæˆæ—¶é—´**: 2025-11-04
**åŸºäºæ–‡æ¡£**: `.ultra/docs/research/2025-11-04-comprehensive-system-audit-final.md`
**ä»»åŠ¡æ–‡ä»¶**: `.ultra/tasks/tasks-audit-fixes.json`

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

åŸºäºç»¼åˆå®¡è®¡æŠ¥å‘Šï¼Œå·²ç”ŸæˆåŒ…å« 26 ä¸ªå®‰å…¨ä¿®å¤ä¸ä¼˜åŒ–ä»»åŠ¡çš„å®Œæ•´è®¡åˆ’ã€‚

### å…³é”®ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| **æ€»ä»»åŠ¡æ•°** | 26 ä¸ª |
| **é¢„è®¡æ€»å·¥æ—¶** | 128 å°æ—¶ (~16 å·¥ä½œæ—¥) |
| **P0 ä¸¥é‡é—®é¢˜** | 5 ä¸ªï¼ˆ30 å°æ—¶ï¼‰|
| **P1 é«˜ä¼˜å…ˆçº§** | 8 ä¸ªï¼ˆ50 å°æ—¶ï¼‰|
| **P2 ä¸­ä¼˜å…ˆçº§** | 8 ä¸ªï¼ˆ28 å°æ—¶ï¼‰|
| **P3 ä½ä¼˜å…ˆçº§** | 5 ä¸ªï¼ˆ20 å°æ—¶ï¼‰|

### ä»»åŠ¡ç­–ç•¥

âœ… **å·²é€‰æ‹©ç­–ç•¥**: **æ›¿æ¢å¾…åŠä»»åŠ¡**
- ä¿ç•™ç°æœ‰é¡¹ç›®çš„ 38 ä¸ªå·²å®Œæˆä»»åŠ¡
- åˆ›å»ºæ–°æ–‡ä»¶ `tasks-audit-fixes.json` ä¸“é—¨ç®¡ç†å®¡è®¡ä¿®å¤ä»»åŠ¡
- åŸ `tasks.json` ä¿ç•™ç”¨äºåŠŸèƒ½å¼€å‘è¿½è¸ª
- å®¡è®¡ä¿®å¤ä¸åŠŸèƒ½å¼€å‘å¹¶è¡Œç®¡ç†ï¼Œäº’ä¸å¹²æ‰°

---

## ğŸš¨ Phase 1: P0 ç´§æ€¥ä¿®å¤ï¼ˆWeek 1ï¼Œ30 å°æ—¶ï¼‰

**ç›®æ ‡**: ä¿®å¤æ‰€æœ‰é˜»å¡å‘å¸ƒçš„å…³é”®æ¼æ´

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | å·¥æ—¶ | é£é™©ç­‰çº§ |
|--------|----------|------|----------|
| **P0-001** | PSM å°æ•°ç²¾åº¦è‡ªé€‚åº”ä¿®å¤ | 4h | ğŸ”´ èµ„é‡‘å®‰å…¨ï¼ˆ10^12å€é”™ç®—é£é™©ï¼‰|
| **P0-002** | EmissionManager æ’æ”¾å‚æ•°ä¿®æ­£ | 16h | ğŸ”´ Token è¶…å‘ 70% |
| **P0-003** | StabilityPool æ¸…ç®—èµ„é‡‘æµä¿®æ­£ | 6h | ğŸ”´ æ¸…ç®—æœºåˆ¶å¤±æ•ˆ |
| **P0-004** | å‰ç«¯è·¨ç½‘é…ç½®ä¸€è‡´æ€§æ ¡éªŒ | 2h | ğŸ”´ è·¨ç½‘èµ„é‡‘å®‰å…¨ |
| **P0-005** | PSM è´¹ç”¨è®¡ç®—æº¢å‡ºé˜²æŠ¤ | 2h | ğŸ”´ æç«¯é‡‘é¢å®‰å…¨è¾¹ç•Œ |

**å…³é”®é‡Œç¨‹ç¢‘**: Week 1 ç»“æŸå‰å®Œæˆä¸»ç½‘éƒ¨ç½²å‡†å¤‡

**äº¤ä»˜æ ‡å‡†**:
- âœ… PSM åŒå‘ swap é‡‘é¢æ­£ç¡®æ€§ï¼ˆUSDC=6 å’Œ USDC=18ï¼‰
- âœ… EmissionManager 352 å‘¨é¢„ç®—ä¸ JSON åŸºå‡†å®Œå…¨ä¸€è‡´
- âœ… StabilityPool æ¸…ç®—è´¦å® 100% ç›¸ç¬¦
- âœ… å‰ç«¯ä¸»ç½‘/æµ‹è¯•ç½‘å¯åŠ¨æ— é”™è¯¯

---

## ğŸ”§ Phase 2: P1 åŠŸèƒ½å®Œå–„ï¼ˆWeek 2-4ï¼Œ50 å°æ—¶ï¼‰

**ç›®æ ‡**: ä¿®å¤æ‰€æœ‰é«˜ä¼˜å…ˆçº§é—®é¢˜ï¼Œå®Œå–„ç³»ç»ŸåŠŸèƒ½

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ç±»åˆ« |
|--------|----------|------|------|
| **P1-001** | Phase-B æŒ‡æ•°è¡°å‡é¢„è®¡ç®—è¡¨å®ç° | 6h | ç»æµå­¦ç²¾ç¡®åº¦ |
| **P1-002** | æ’æ”¾èˆå…¥å®ˆæ’ä¸å°˜å·®å½’é›† | 2h | å‘¨çº§å®ˆæ’éªŒè¯ |
| **P1-003** | StabilityPool å¥–åŠ±åˆ†å‘æˆæƒä¿®å¤ | 2h | DoS/å¥–åŠ±é”™é…é£é™© |
| **P1-004** | Oracle Sequencer æ£€æŸ¥é€‚é… BSC | 2h | å¯ç”¨æ€§é£é™© |
| **P1-005** | USDPVault å¤šæŠµæŠ¼å“æ”¯æŒçŸ­æœŸä¿®å¤ | 2h | åŠŸèƒ½å®Œæ•´æ€§ |
| **P1-006** | Timelock æ²»ç†éƒ¨ç½²ä¸é›†æˆ | 12h | æ²»ç†å®‰å…¨ |
| **P1-007** | æµ‹è¯•è¦†ç›–ç‡æå‡è‡³ 90%+ | 16h | è´¨é‡ä¿éšœ |
| **P1-008** | SavingRate èµ„é‡‘è¦†ç›–æ–­è¨€æ·»åŠ  | 2h | è¿ç»´é£é™© |

**å…³é”®é‡Œç¨‹ç¢‘**: Week 4 ç»“æŸå‰å®Œæˆå®¡è®¡å‡†å¤‡

**äº¤ä»˜æ ‡å‡†**:
- âœ… EmissionManager V2 æ’æ”¾æ›²çº¿ 100% ç²¾ç¡®
- âœ… æ‰€æœ‰æ²»ç†æ“ä½œéœ€è¦ 2 å¤© Timelock
- âœ… æµ‹è¯•è¦†ç›–ç‡ â‰¥90%
- âœ… å…³é”®è·¯å¾„ï¼ˆæ¸…ç®—/æ’æ”¾/æ²»ç†ï¼‰100% è¦†ç›–

---

## ğŸ› ï¸ Phase 3: P2 ä¼˜åŒ–æ‰“ç£¨ï¼ˆWeek 5-6ï¼Œ28 å°æ—¶ï¼‰

**ç›®æ ‡**: ä¿®å¤æ‰€æœ‰ä¸­ç­‰ä¼˜å…ˆçº§é—®é¢˜ + ä»£ç æ¸…ç†

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ç±»åˆ« |
|--------|----------|------|------|
| **P2-001** | ç²¾åº¦æŸå¤±å®¡æŸ¥ä¸ä¿®å¤ï¼ˆ4å¤„ï¼‰ | 4h | ç²¾åº¦ä¼˜åŒ– |
| **P2-002** | å¾ªç¯é¢„è¨€æœºæŸ¥è¯¢ Gas ä¼˜åŒ– | 4h | Gas ä¼˜åŒ– 30-50% |
| **P2-003** | æœªä½¿ç”¨å˜é‡æ¸…ç†ï¼ˆ20+å¤„ï¼‰ | 2h | ä»£ç æ¸…ç† |
| **P2-004** | äº‹ä»¶å®Œæ•´æ€§å®¡æŸ¥ä¸è¡¥å…… | 4h | ç›‘æ§å‹å¥½ |
| **P2-005** | DEXPair K ä¸å˜é‡æµ‹è¯•ä¿®å¤ | 8h | æµ‹è¯•ä¿®å¤ |
| **P2-006** | USDP ç´§æ€¥æš‚åœå¯æ¢å¤æ€§æ”¹é€  | 4h | Pausable æœºåˆ¶ |
| **P2-007** | å‰ç«¯è¿è¡Œæ—¶æ–­è¨€é›†æˆ | 4h | Core Web Vitals |
| **P2-008** | å¤šæŠµæŠ¼å“åŠ æƒå¥åº·å› å­å®ç° | 6h | é•¿æœŸæ–¹æ¡ˆ |

**å…³é”®é‡Œç¨‹ç¢‘**: Week 6 ç»“æŸå‰å®Œæˆä»£ç å†»ç»“

**äº¤ä»˜æ ‡å‡†**:
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ928/928ï¼‰
- âœ… Gas ä¼˜åŒ– 15-25%
- âœ… ç¼–è¯‘æ— è­¦å‘Š

---

## ğŸŸ¢ Phase 4: P3 æŒç»­æ”¹è¿›ï¼ˆWeek 7-15ï¼Œ20 å°æ—¶ + å®¡è®¡ï¼‰

**ç›®æ ‡**: å¤–éƒ¨å®¡è®¡ + ä¸»ç½‘å‘å¸ƒ

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | å·¥æ—¶ | ç±»åˆ« |
|--------|----------|------|------|
| **P3-001** | æ—¥å¿—ä¸ç›‘æ§äº‹ä»¶å¢å¼º | 4h | å¯è§‚æµ‹æ€§ |
| **P3-002** | æ–‡æ¡£åŒæ­¥æ›´æ–°ï¼ˆREADME + APIï¼‰ | 4h | æ–‡æ¡£å®Œæ•´æ€§ |
| **P3-003** | NatSpec æ³¨é‡Šå®Œæ•´æ€§å®¡æŸ¥ | 8h | ä»£ç å¯è¯»æ€§ |
| **P3-004** | Testnet å‹åŠ›æµ‹è¯•ä¸æ€§èƒ½åŸºçº¿ | 16h | æ€§èƒ½éªŒè¯ |
| **P3-005** | å®¡è®¡å‡†å¤‡æ–‡æ¡£åŒ…ç”Ÿæˆ | 4h | å®¡è®¡å‡†å¤‡ |

**å¤–éƒ¨å®¡è®¡ä»»åŠ¡**ï¼ˆWeek 7-13ï¼‰:
- å¤–éƒ¨å®¡è®¡ï¼ˆOpenZeppelin/CertiKï¼‰: 4-6 å‘¨
- ä¿®å¤å®¡è®¡å‘ç°é—®é¢˜: TBD
- æœ€ç»ˆå›å½’æµ‹è¯•: 2 å‘¨
- ä¸»ç½‘éƒ¨ç½²: 1 å‘¨
- ç›‘æ§ä¸å‘Šè­¦é…ç½®: 1 å‘¨

**å…³é”®é‡Œç¨‹ç¢‘**: Week 15 ç»“æŸå‰ä¸»ç½‘ä¸Šçº¿

**äº¤ä»˜æ ‡å‡†**:
- âœ… å®¡è®¡æŠ¥å‘Šï¼ˆ0 High/Critical é—®é¢˜ï¼‰
- âœ… ä¸»ç½‘éƒ¨ç½²æˆåŠŸ
- âœ… ç›‘æ§æŒ‡æ ‡æ­£å¸¸

---

## ğŸ“‹ ä»»åŠ¡ä¾èµ–å…³ç³»å›¾

```
Phase 1 (P0) - å¹¶è¡Œæ‰§è¡Œ
â”œâ”€â”€ P0-001 (PSM ç²¾åº¦)
â”œâ”€â”€ P0-002 (EmissionManager)
â”œâ”€â”€ P0-003 (StabilityPool)
â”œâ”€â”€ P0-004 (å‰ç«¯é…ç½®) â† depends on P0-001
â””â”€â”€ P0-005 (PSM æº¢å‡º)

Phase 2 (P1) - éƒ¨åˆ†ä¾èµ– P0
â”œâ”€â”€ P1-001 (Phase-B æŒ‡æ•°) â† depends on P0-002
â”œâ”€â”€ P1-002 (å°˜å·®å½’é›†) â† depends on P0-002
â”œâ”€â”€ P1-003 (å¥–åŠ±æˆæƒ) - ç‹¬ç«‹
â”œâ”€â”€ P1-004 (Oracle BSC) - ç‹¬ç«‹
â”œâ”€â”€ P1-005 (å¤šæŠµæŠ¼å“) - ç‹¬ç«‹
â”œâ”€â”€ P1-006 (Timelock) - ç‹¬ç«‹
â”œâ”€â”€ P1-007 (æµ‹è¯•è¦†ç›–) â† depends on P0-001,002,003 + P1-001,002
â””â”€â”€ P1-008 (SavingRate) - ç‹¬ç«‹

Phase 3 (P2) - ä¾èµ– P0+P1
â”œâ”€â”€ P2-001~P2-007 - éƒ¨åˆ†ç‹¬ç«‹
â””â”€â”€ P2-008 (å¤šæŠµæŠ¼å“é•¿æœŸ) â† depends on P1-005

Phase 4 (P3) - ä¾èµ– P0+P1+P2
â”œâ”€â”€ P3-001~P3-003 - ç‹¬ç«‹
â”œâ”€â”€ P3-004 (å‹åŠ›æµ‹è¯•) â† depends on all P0+P1
â””â”€â”€ P3-005 (å®¡è®¡æ–‡æ¡£) â† depends on P1-007, P3-001,002,003
```

---

## ğŸ¯ å…³é”®é—®é¢˜è¯¦è§£

### P0-001: PSM å°æ•°ç²¾åº¦è‡ªé€‚åº”ä¿®å¤

**é£é™©åœºæ™¯**:
```
å‡è®¾ USDC å®é™…ä¸º 18 decimalsï¼ˆä¸»ç½‘é…ç½®ï¼‰ï¼š

1. ç”¨æˆ·å­˜å…¥ï¼š1 USDC (1e18)
2. åˆçº¦è®¡ç®—ï¼š1e18 * 1e12 = 1e30 USDP
3. é¢„æœŸè¾“å‡ºï¼š1e18 USDP (1 USDP)
4. å®é™…è¾“å‡ºï¼š1e30 USDP (10^12 USDP!)

ç»“æœï¼š
- ç”¨æˆ·è·å¾— 1 ä¸‡äº¿å€çš„ USDP
- PSM å‚¨å¤‡ç¬é—´è€—å°½
- åç»­ç”¨æˆ·æ— æ³• 1:1 èµå›
- åè®®ç ´äº§
```

**ä¿®å¤æ–¹æ¡ˆ**:
```solidity
// PSM.sol æ„é€ å‡½æ•°
constructor(address _usdc, address _usdp) {
    usdc = IERC20Metadata(_usdc);
    usdp = IUSDP(_usdp);

    // åŠ¨æ€è®¡ç®— SCALE
    uint8 usdcDecimals = usdc.decimals();
    uint8 usdpDecimals = 18;  // USDP å›ºå®š 18

    require(usdpDecimals >= usdcDecimals, "Invalid decimals");
    SCALE = 10 ** (usdpDecimals - usdcDecimals);

    emit PSMInitialized(_usdc, _usdp, usdcDecimals, usdpDecimals, SCALE);
}
```

---

### P0-002: EmissionManager æ’æ”¾å‚æ•°ä¿®æ­£

**ç»æµå½±å“åˆ†æ**:

| æŒ‡æ ‡ | çº²é¢†è®¾è®¡ | å½“å‰å®ç° | åå·® |
|------|---------|---------|------|
| **352 å‘¨æ€»å‘è¡Œ** | 10B PAIMON | ~17B PAIMON | **+70% è¶…å‘** |
| **Phase-B å€ºåŠ¡æŒ–çŸ¿** | 50% (é‡ç‚¹) | 10% (å›ºå®š) | **-80% ä¸è¶³** |
| **Phase-B æµåŠ¨æ€§** | 37.5% (é™ä½) | 70% (å›ºå®š) | **+87% è¿‡é«˜** |

**è´¢åŠ¡å½±å“ï¼ˆPhase-B ç¬¬ 100 å‘¨ç¤ºä¾‹ï¼‰**:
```
çº²é¢†é¢„æœŸæ’æ”¾: ~20M PAIMON/å‘¨
- å€ºåŠ¡æŒ–çŸ¿: 20M Ã— 50% = 10M
- æµåŠ¨æ€§: 20M Ã— 37.5% = 7.5M
- ç”Ÿæ€: 20M Ã— 12.5% = 2.5M

å½“å‰å®é™…æ’æ”¾: ~34M PAIMON/å‘¨ (+70%)
- å€ºåŠ¡æŒ–çŸ¿: 34M Ã— 10% = 3.4M (-66%)
- æµåŠ¨æ€§: 34M Ã— 70% = 23.8M (+217%)
- ç”Ÿæ€: 34M Ã— 20% = 6.8M (+172%)

å½±å“ï¼š
- å€ºåŠ¡æŒ–çŸ¿æ¿€åŠ±ä¸è¶³ â†’ USDP é“¸é€ éœ€æ±‚ä½ â†’ ç¨³å®šå¸è§„æ¨¡æ— æ³•æ‰©å¼ 
- æµåŠ¨æ€§æ¿€åŠ±è¿‡é«˜ â†’ Token é€šèƒ€å‹åŠ›å¤§ â†’ ä»·æ ¼ç¨€é‡Š
```

---

### P0-003: StabilityPool æ¸…ç®—èµ„é‡‘æµä¿®æ­£

**è´¦å®é”™é…ç¤ºä¾‹**:
```
åˆå§‹çŠ¶æ€ï¼š
- Pool USDP ä½™é¢ï¼š1000e18
- _totalDepositsï¼š1000e18
âœ… è´¦å®ç›¸ç¬¦

æ¸…ç®—å‘ç”Ÿï¼ˆå€ºåŠ¡ 100e18ï¼‰ï¼š
- æ¸…ç®—äººæ”¯ä»˜ï¼š100 USDPï¼ˆä»æ¸…ç®—äººè´¦æˆ·çƒ§æ¯ï¼‰
- _totalDepositsï¼š1000e18 - 100e18 = 900e18
- Pool USDP ä½™é¢ï¼š1000e18ï¼ˆæ²¡æœ‰å˜åŒ–ï¼ï¼‰
âŒ è´¦å®ä¸ç¬¦ï¼šbalanceOf=1000, _totalDeposits=900

åç»­å½±å“ï¼š
- ç”¨æˆ·æç°æ—¶ä¼šå¤±è´¥ï¼ˆå®é™…ä½™é¢ä¸è¶³ï¼‰
- æˆ–è€…å¯¼è‡´æœ€åä¸€ä¸ªç”¨æˆ·æ— æ³•æç°ï¼ˆä½™é¢è¢«è€—å°½ï¼‰
```

**ä¿®å¤æ–¹æ¡ˆ**:
```solidity
// USDPVault.sol ä¿®æ”¹
function liquidate(address user) external nonReentrant {
    require(isLiquidatable(user), "User not liquidatable");

    uint256 debt = debtOf(user);

    // âœ… ä» Stability Pool çƒ§ USDP
    usdp.burnFrom(address(stabilityPool), debt);

    // ... å°†æŠµæŠ¼å“è½¬ç»™æ¸…ç®—äºº ...

    // âœ… é€šçŸ¥ Stability Poolï¼ˆåªè´Ÿè´£è®°è´¦å’Œåˆ†é…æŠµæŠ¼å“ï¼‰
    stabilityPool.onLiquidationProceeds(assets, amounts, debt);
}

// USDPStabilityPool.sol ä¿®æ”¹
function onLiquidationProceeds(
    address[] calldata assets,
    uint256[] calldata amounts,
    uint256 debtAmount
) external onlyVault {
    // âœ… åªè´Ÿè´£è®°è´¦ï¼ˆUSDP å·²ç”± Vault çƒ§æ¯ï¼‰
    _totalDeposits -= debtAmount;

    // æŒ‰ä»½é¢åˆ†é…æŠµæŠ¼å“
    for (uint256 i = 0; i < assets.length; i++) {
        _distributeCollateral(assets[i], amounts[i]);
    }
}
```

---

## ğŸ” æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•è¦†ç›–ï¼ˆå¿…é¡» 100% é€šè¿‡ï¼‰

#### PSM æµ‹è¯•
```solidity
test_PSM_DynamicDecimals_USDC6()
test_PSM_DynamicDecimals_USDC18()
test_PSM_SwapUSDCForUSDP_Amounts()
test_PSM_SwapUSDPForUSDC_Amounts()
test_PSM_FeeCalculation_MulDiv()
test_PSM_ReserveConstraint()
```

#### EmissionManager æµ‹è¯•
```solidity
test_Emission_Week1_PhaseA()
test_Emission_Week12_PhaseA()
test_Emission_Week13_PhaseB_Transition()
test_Emission_Week100_PhaseB_Decay()
test_Emission_Week248_PhaseB_End()
test_Emission_Week249_PhaseC_Transition()
test_Emission_Week352_PhaseC_End()
test_Emission_TotalEmission_Equals10B()
test_Emission_ChannelAllocation_ByPhase()
test_Emission_DustCollection()
```

#### StabilityPool æµ‹è¯•
```solidity
test_StabilityPool_Liquidation_Accounting()
test_StabilityPool_MultiUser_Liquidation()
test_StabilityPool_RewardDistribution_Authorized()
test_StabilityPool_CollateralDistribution()
```

---

### é›†æˆæµ‹è¯•åœºæ™¯

#### åœºæ™¯ 1: RWA æŠµæŠ¼ â†’ å€Ÿæ¬¾ â†’ æ¸…ç®—
```
1. ç”¨æˆ·å­˜å…¥ RWA æŠµæŠ¼å“
2. ç”¨æˆ·å€Ÿå…¥ USDP
3. RWA ä»·æ ¼ä¸‹è·Œè§¦å‘æ¸…ç®—
4. Stability Pool æ‰¿æ¥æ¸…ç®—
5. éªŒè¯è´¦å®ä¸€è‡´æ€§
```

#### åœºæ™¯ 2: æ’æ”¾å‘¨åˆ‡æ¢
```
1. Week 12 â†’ Week 13ï¼ˆPhase-A â†’ Phase-Bï¼‰
2. éªŒè¯é€šé“æ¯”ä¾‹åˆ‡æ¢ï¼ˆ30/60/10 â†’ 50/37.5/12.5ï¼‰
3. Week 248 â†’ Week 249ï¼ˆPhase-B â†’ Phase-Cï¼‰
4. éªŒè¯é€šé“æ¯”ä¾‹åˆ‡æ¢ï¼ˆ50/37.5/12.5 â†’ 55/35/10ï¼‰
```

#### åœºæ™¯ 3: æ²»ç†æµç¨‹
```
1. ææ¡ˆè°ƒæ•´ LP åˆ†æµæ¯”ä¾‹
2. Timelock æ’é˜Ÿï¼ˆ2 å¤©å»¶è¿Ÿï¼‰
3. ç¤¾åŒºç›‘ç£æœŸ
4. æ‰§è¡Œææ¡ˆ
5. éªŒè¯å‚æ•°ç”Ÿæ•ˆ
```

---

### E2E æµ‹è¯•ï¼ˆç«¯åˆ°ç«¯ï¼‰

#### ä¸»ç½‘åœºæ™¯ï¼ˆUSDC=18ï¼‰
```
1. å‰ç«¯è¿æ¥ä¸»ç½‘
2. å¯åŠ¨æ—¶æ ¡éªŒ decimals ä¸€è‡´æ€§
3. ç”¨æˆ·æ‰§è¡Œ USDC â†’ USDP swap
4. éªŒè¯é‡‘é¢æ­£ç¡®ï¼ˆ1 USDC = 1 USDPï¼‰
5. ç”¨æˆ·æ‰§è¡Œ USDP â†’ USDC swap
6. éªŒè¯è´¹ç”¨æ‰£é™¤æ­£ç¡®
```

#### æµ‹è¯•ç½‘åœºæ™¯ï¼ˆUSDC=6ï¼‰
```
åŒä¸Šï¼ŒéªŒè¯è·¨ç½‘ä¸€è‡´æ€§
```

---

## ğŸš¨ é£é™©ç®¡ç†

### å˜æ›´é£é™©è¯„ä¼°

| å˜æ›´ç±»å‹ | é£é™©ç­‰çº§ | ç¼“è§£æªæ–½ |
|---------|---------|---------|
| PSM å°æ•°ç²¾åº¦ | ğŸ”´ é«˜ | Testnet å¤åˆ»ä¸»ç½‘æ¼”ç»ƒ + é‡‘ä¸é›€éƒ¨ç½² |
| EmissionManager V2 | ğŸ”´ é«˜ | 352 å‘¨ JSON å¯¹è´¦ + ç¤¾åŒºå…¬å‘Š |
| StabilityPool æ¸…ç®— | ğŸŸ  ä¸­ | é›†æˆæµ‹è¯• + å®¡è®¡é‡ç‚¹å®¡æŸ¥ |
| Timelock éƒ¨ç½² | ğŸŸ¡ ä½ | æˆç†Ÿçš„ OpenZeppelin æ–¹æ¡ˆ |

### æ²»ç†æµç¨‹å»ºè®®

**ç´§æ€¥æš‚åœæƒé™**:
- å¤šç­¾é…ç½®: 4-of-7ï¼ˆå«æ ¸å¿ƒå›¢é˜Ÿ + ç¤¾åŒºä»£è¡¨ï¼‰
- è§¦å‘æ¡ä»¶: æ£€æµ‹åˆ°èµ„é‡‘å®‰å…¨é£é™©ã€Oracle å¼‚å¸¸ã€æ¸…ç®—å¤±æ•ˆ
- æš‚åœèŒƒå›´: PSM swapã€Vault borrowã€StabilityPool deposit
- æ¢å¤æµç¨‹: ä¿®å¤é—®é¢˜ â†’ Timelock ææ¡ˆ â†’ ç¤¾åŒºæŠ•ç¥¨ â†’ æ¢å¤è¿è¡Œ

**å‚æ•°è°ƒæ•´æµç¨‹**:
- ææ¡ˆé—¨æ§›: éœ€æŒæœ‰ 100+ vePAIMON voting power
- Timelock å»¶è¿Ÿ: 2 å¤©ï¼ˆç¤¾åŒºç›‘ç£æœŸï¼‰
- æ‰§è¡Œæƒé™: ä»»ä½•åœ°å€ï¼ˆå»¶è¿Ÿåï¼‰
- ç´§æ€¥é€šé“: 4-of-7 å¤šç­¾å¯ç»•è¿‡ Timelockï¼ˆä»…ç”¨äºç´§æ€¥å‚æ•°ä¿®æ­£ï¼‰

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

### ç«‹å³è¡ŒåŠ¨ï¼ˆæœ¬å‘¨å†…ï¼‰

1. **å¬é›†æŠ€æœ¯è¯„å®¡ä¼šè®®**
   - å‚ä¸è€…: æ ¸å¿ƒå¼€å‘å›¢é˜Ÿ + å®‰å…¨ä¸“å®¶
   - è®®ç¨‹: å®¡æŸ¥ 5 ä¸ª P0 é—®é¢˜ä¿®å¤æ–¹æ¡ˆ
   - è¾“å‡º: ä¿®å¤æ–¹æ¡ˆæœ€ç»ˆç¡®è®¤æ–‡æ¡£

2. **åˆ›å»º P0 ä¿®å¤åˆ†æ”¯**
   ```bash
   git checkout -b fix/p0-critical-issues
   ```

3. **åˆ†é… P0 ä»»åŠ¡**
   - P0-001 (PSM): åˆçº¦å¼€å‘å·¥ç¨‹å¸ˆ Aï¼ˆ4hï¼‰
   - P0-002 (EmissionManager): åˆçº¦å¼€å‘å·¥ç¨‹å¸ˆ B + Cï¼ˆ16hï¼‰
   - P0-003 (StabilityPool): åˆçº¦å¼€å‘å·¥ç¨‹å¸ˆ Aï¼ˆ6hï¼‰
   - P0-004 (å‰ç«¯é…ç½®): å‰ç«¯å·¥ç¨‹å¸ˆ Dï¼ˆ2hï¼‰
   - P0-005 (PSM æº¢å‡º): åˆçº¦å¼€å‘å·¥ç¨‹å¸ˆ Aï¼ˆ2hï¼‰

4. **å»ºç«‹æ¯æ—¥è¿›åº¦åŒæ­¥æœºåˆ¶**
   - æ—¶é—´: æ¯æ—¥ä¸Šåˆ 10:00
   - å½¢å¼: 15 åˆ†é’Ÿç«™ä¼š
   - å†…å®¹: è¿›åº¦æ›´æ–°ã€é˜»å¡é—®é¢˜ã€å½“æ—¥è®¡åˆ’

### Week 1 ç›®æ ‡

- âœ… å®Œæˆæ‰€æœ‰ 5 ä¸ª P0 ä»»åŠ¡
- âœ… Testnet éƒ¨ç½²å¹¶éªŒè¯
- âœ… å‡†å¤‡ P1 ä»»åŠ¡å¯åŠ¨

### Week 2-4 ç›®æ ‡

- âœ… å®Œæˆæ‰€æœ‰ 8 ä¸ª P1 ä»»åŠ¡
- âœ… æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 90%+
- âœ… Timelock æ²»ç†ç³»ç»Ÿä¸Šçº¿
- âœ… å‡†å¤‡å¤–éƒ¨å®¡è®¡ææ–™

### Week 5-6 ç›®æ ‡

- âœ… å®Œæˆæ‰€æœ‰ 8 ä¸ª P2 ä»»åŠ¡
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ928/928ï¼‰
- âœ… ä»£ç å†»ç»“
- âœ… æäº¤å¤–éƒ¨å®¡è®¡

### Week 7-15 ç›®æ ‡

- âœ… å¤–éƒ¨å®¡è®¡å®Œæˆï¼ˆ0 High/Critical é—®é¢˜ï¼‰
- âœ… å®Œæˆæ‰€æœ‰ 5 ä¸ª P3 ä»»åŠ¡
- âœ… ä¸»ç½‘éƒ¨ç½²
- âœ… ç›‘æ§ç³»ç»Ÿä¸Šçº¿

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ç»¼åˆå®¡è®¡æŠ¥å‘Š: `.ultra/docs/research/2025-11-04-comprehensive-system-audit-final.md`
- ä»»åŠ¡æ¸…å•: `.ultra/tasks/tasks-audit-fixes.json`
- ç³»ç»Ÿç™½çš®ä¹¦: `.ultra/docs/usdp-camelot-lybra-system-guide.md`
- æŠ€æœ¯æ–‡æ¡£: `.ultra/docs/tech.md`
- PRD æ–‡æ¡£: `.ultra/docs/prd.md`

---

**ç”Ÿæˆæ—¶é—´**: 2025-11-04
**ä¸‹æ¬¡æ›´æ–°**: æ¯å‘¨äº”æ›´æ–°è¿›åº¦

**è”ç³»äºº**:
- æŠ€æœ¯è´Ÿè´£äºº: [å¾…å¡«å†™]
- å®‰å…¨è´Ÿè´£äºº: [å¾…å¡«å†™]
- é¡¹ç›®ç»ç†: [å¾…å¡«å†™]
